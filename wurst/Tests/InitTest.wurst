package InitTest
import ConstantDataSystem
import StorageSystem
import UtilityFunctions

init
	let originVec = vec2(0., 0.)
	// Create player units:
	var p = Player(0)
	for i = 1 to 5
		var u = createUnit(p, UnitIdsCustom.peasant, originVec, angle(0.))
		var storage = addStorage(u)
		if storage != null
			storage.addWare(Ware(WareType.Food, GetRandomInt(1, 10)))
	createUnit(p, UnitIdsCustom.footman, originVec, angle(0.))
	// Create nature:
	p = Player(PLAYER_NEUTRAL_PASSIVE)
	let minForestDist = 512.
	let maxForestDist = 5120.
	let forestsCount = GetRandomInt(4, 6)
	for	i = 1 to forestsCount
		var centerVec = originVec.polarOffset(getRandomAngle(), GetRandomReal(minForestDist, maxForestDist))
		var treesCount = GetRandomInt(8, 12)
		for j = 1 to treesCount
			let minTreeDist = 0.
			let maxTreeDist = 384.
			createUnit(p, UnitIdsCustom.beechVar1, centerVec.polarOffset(getRandomAngle(), GetRandomReal(minTreeDist, maxTreeDist)), getRandomAngle(), true)