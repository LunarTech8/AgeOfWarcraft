package Command_UnitTests
import UnitMap
import Entity
import Stock
import StorageSystem
import BuildingSystem
import WorkshopSystem


// --------------------
// Data code
// --------------------

let USER_PLAYER = Player(0)
let COMMAND = "unit test"
let COMMAND_SHORT = "ut"


// --------------------
// Functional code
// --------------------

function executeCommand()
	print("-------- Unit tests (8):")
	// UnitMap:
	testEntity_CreateAndIndex(true)
	testUnitHashMap_AddAndRemove(true)
	// EntityMap:
	testEntity_HashMapAddAndRemove(true)
	// StockSystem:
	testStockSystem_AddAndRemove(true)
	// StorageSystem:
	testStorageSystem_AddAndRemove(true)
	// BuildingSystem:
	testBuildingSystem_Build()
	// WorkshopSystem:
	testWorkshopSystem_Workers()
	testWorkshopSystem_Production()

init
	CreateTrigger()
	..addAction(function executeCommand)
	..registerPlayerChatEvent(USER_PLAYER, COMMAND, true)
	..registerPlayerChatEvent(USER_PLAYER, COMMAND_SHORT, true)